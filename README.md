# Cookiecutter for Express and React Server-side Rendering

![CI](https://github.com/ardydedase/node-react-ssr/workflows/CI/badge.svg?branch=master)

An opinionated cookiecutter template that will help you to quickly set-up a starter code for building your server-side rendered Express with React web application.
The web app produced uses React server-side rendered with Express written in Typescript. This template is the basis of my personal projects.

## Reference app generated from cookiecutter

Reference app: https://github.com/ardydedase/express-react-ssr-reference

Deploy reference app to Render:

<a href="https://render.com/deploy?repo=https://github.com/ardydedase/express-react-ssr-reference">
  <img src="https://render.com/images/deploy-to-render-button.svg">
</a>

## Specs

- Starter code in Typescript.
- Tested on:
  - npm >=6
  - node >=12

## Structure and sequence

### Node API endpoint

Everything under `/api`

![Node API Sequence](./out/diagrams/node-api-sequence/NodeAPI_Sequence.png "Node API Sequence")

### Web pages rendered

`NodeAPI` object is the Node API endpoint above.

![Web pages rendered](./out/diagrams/page-render-sequence/PageRender_Sequence.png "Web pages rendered")

## What's included

- Use Express and React.js
- Uses webpack and babel for bundling and transpiling.
- Handlebars for templating.
- `node-config` to load configuration files.
- Jest for testing.
- Go live with a Continuous Deployment Pipeline using GitHub and Render's Infrastructure as Code. A sample IaC file [can be found here]({{cookiecutter.project_slug}}/render.yaml).

## What's NOT included

- Custom CSS setup. Relies on bootstrap v4.

## Cookiecutter values

- GitHub username.
- Project / service name deployed to Render.
- Google Analytics ID for tracking (optional).

## Usage

1.  Install cookiecutter. Run the command below or [follow the instructions here](https://cookiecutter.readthedocs.io/en/1.7.2/installation.html).

        pip install cookiecutter

1.  Cookiecut the template

        cookiecutter git@github.com:ardydedase/cookiecutter-express-react-ssr.git

1.  Enter the values accordingly. Take note of your project name. The project slug will be based on the project name. Replace the default values with your own.

        github_username [ardydedase]:
        project_name [Express React SSR Reference]:
        project_slug [express-react-ssr-reference]:
        project_short_description [My reference web app.]:
        version [0.1.0]:
        google_analytics_id [UA-XXXX-Y]:

1.  Change the working directory to the generated folder, same name as the project slug.

        cd <project_slug>

1.  Take a look at the directory structure and the files.

        ls -al

## Development

Refer to the [README.md](https://github.com/ardydedase/express-react-ssr-reference/blob/main/README.md) file generated by cookiecutter in the Reference App Repo.

## References

- [React Server-side Rendering](https://medium.com/@danlegion/react-server-side-rendering-with-express-b6faf56ce22)
- [Node Configuration](https://github.com/lorenwest/node-config)
- [Using Jest](https://medium.com/@RupaniChirag/writing-unit-tests-in-typescript-d4719b8a0a40)
- [Production best practices: performance and reliability](https://expressjs.com/en/advanced/best-practice-performance.html)
